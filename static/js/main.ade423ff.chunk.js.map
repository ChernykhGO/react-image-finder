{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/pixabayApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","pixabayApi","fetchApi","inputText","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","info","props","onSubmit","setTimeout","images","length","loading","className","s","this","SearchForm","type","SearchFormButton","SearchFormLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","name","Component","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItem_image","ImageGallery","imageGallery","map","ComponentLoader","color","height","width","timeout","Button","handleLoadMore","Modal","Overlay","App","eror","showModal","data","prevState","hits","catch","error","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","escFunction","keyCode","addEventListener","prevProps","message","autoClose","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ade423ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Hwon\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__34Xbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__M09Gp\",\"Modal\":\"Modal_Modal__2jrt6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1SSlS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2yaC8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1i5TQ\",\"SearchForm\":\"Searchbar_SearchForm__2cgy3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2VDun\",\"SearchFormLabel\":\"Searchbar_SearchFormLabel__2B_qR\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3yvGN\"};","function fetchApi(inputText, page) {\n  return fetch(\n    `https://pixabay.com/api/?key=22345544-d7e856a59bd0b8410f42b3802&q=${inputText}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Не найдено изображения с названием ${inputText}`)\n    );\n  });\n}\n\nconst pixabayApi = { fetchApi };\n\nexport default pixabayApi;\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nexport default class Searchbar extends Component {\n  state = {\n    inputText: \"\",\n  };\n\n  //  обновление стейта на при нажатии на инпут\n  handleNameChange = (event) => {\n    this.setState({ inputText: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.inputText.trim() === \"\") {\n      // return alert('Введите название в поиске');\n      return toast.info(\"Введите название в строке поиска!\");\n    }\n    this.props.onSubmit(this.state.inputText);\n    this.setState({ inputText: \"\" });\n\n    setTimeout(() => {\n      if (this.props.images.length === 0 && !this.props.loading) {\n        return toast.info(\"Картинок с таким названием не найдено!\");\n      }\n    }, 1000);\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputText}\n            onChange={this.handleNameChange}\n            name=\"inputText\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClick,\n}) {\n  return (\n    <li\n      key={id}\n      className={s.ImageGalleryItem}\n      onClick={() => onClick(largeImageURL)}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItem_image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  ondeleteContact: PropTypes.func,\n  contacts: PropTypes.array,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGallery({ images, onClick }) {\n  // console.log(images)\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func,\n  images: PropTypes.array,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function ComponentLoader() {\n  return (\n    <div>\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={10000}\n      />\n      Loading...\n    </div>\n  );\n}\n","import s from \"./Button.module.css\";\n\nexport default function Button({ handleLoadMore }) {\n  return (\n    <button className={s.Button} onClick={handleLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import s from \"./Modal.module.css\";\n\nexport default function Modal({ largeImageURL, tags, onClick }) {\n  return (\n    <div className={s.Overlay} onClick={onClick}>\n      <div className={s.Modal}>\n        <img src={largeImageURL} alt={tags} />\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"./App.css\";\nimport pixabayApi from \"./services/pixabayApi\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ComponentLoader from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    inputText: \"\",\n    loading: false,\n    eror: null,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageURL: \"\",\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    // this.setState({ loading: true, images: [], page: 1 });\n    pixabayApi\n      .fetchApi(\"yellow\", this.state.page)\n      .then((data) => this.setState({ images: data.hits }))\n      .catch((error) => this.setState(error))\n      .finally(() => this.setState({ loading: false }));\n    document.addEventListener(\"keydown\", this.escFunction);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.inputText !== prevState.inputText) {\n      this.setState({ loading: true, images: [], page: 1 });\n      setTimeout(() => {\n        pixabayApi\n          .fetchApi(this.state.inputText, this.state.page)\n          .then((data) => {\n            if (data.hits.length > 0) {\n              this.setState({ images: data.hits });\n            }\n          })\n          .catch((error) => this.setState(error))\n          .finally(() => this.setState({ loading: false }));\n      }, 500);\n\n      if (this.state.page !== prevState.page) {\n        this.handleLoadMore();\n      }\n      //     // console.log('Change')\n      //     // console.log(prevState.inputText);\n      //   // console.log(this.state.inputText);\n      //   this.setState({loading: true, images: [], page: 1})\n      //   setTimeout(()=>{\n      //     pixabayApi.fetchApi(this.state.inputText, this.state.page).then(data => {\n      //       this.setState(prevState => ({images: data.hits}));\n      //       // console.log(this.state.images);\n      //       // console.log(this.state.page);\n      //   })\n      //   .catch(error => this.setState({error}))\n      // .finally (() => this.setState({loading: false}))\n      //   },500)\n    }\n  }\n\n  handleSubmit = (inputText) => {\n    // console.log(inputText);\n    this.setState({ inputText });\n  };\n\n  handleLoadMore = () => {\n    this.setState({ loading: true });\n    // console.log(this.state.page);\n    // console.log(this.state.images);\n    setTimeout(() => {\n      pixabayApi\n        .fetchApi(this.state.inputText, this.state.page + 1)\n        .then((data) => {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n            page: prevState.page + 1,\n          }));\n          // console.log(this.state.page);\n          // console.log(this.prevState.images);\n          // console.log(data.hits);\n        })\n        .catch((error) => this.setState(error))\n        .finally(() =>\n          this.setState(\n            { loading: false },\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            })\n          )\n        );\n    }, 500);\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n      largeImageURL: largeImageURL,\n    }));\n  };\n\n  escFunction = (event) => {\n    if (event.keyCode === 27) {\n      // console.log('You pressed a \"enter\" key in textbox');\n      this.toggleModal();\n    }\n  };\n\n  render() {\n    const { images, loading, error, showModal, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar\n          onSubmit={this.handleSubmit}\n          images={images}\n          loading={loading}\n        />\n        {error && <h1>{error.message}</h1>}\n        {loading && <ComponentLoader />}\n        {images && <ImageGallery images={images} onClick={this.toggleModal} />}\n        {images.length > 0 && <Button handleLoadMore={this.handleLoadMore} />}\n        {showModal && (\n          <Modal\n            onClick={this.toggleModal}\n            largeImageURL={largeImageURL}\n            // onKeyDown={this.escFunction}\n          />\n        )}\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </div>\n    );\n  }\n}\n\n// {/* {images.length === 0 && !loading && (\n//   <h1>Картинок с таким названием не найденоoo!</h1>\n// )} */}\n// {/* {!this.state.inputText && <div>Введите имя пакемона</div>} */}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}