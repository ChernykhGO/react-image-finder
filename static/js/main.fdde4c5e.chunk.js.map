{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/pixabayApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","pixabayApi","fetchApi","inputText","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","info","props","onSubmit","className","s","this","SearchForm","type","SearchFormButton","SearchFormLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","name","Component","ImageGalleryItem","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItem_image","ImageGallery","images","imageGallery","map","ComponentLoader","color","height","width","timeout","Button","handleLoadMore","Modal","Overlay","App","loading","eror","showModal","setTimeout","data","prevState","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","finally","toggleModal","prevProps","massege","length","autoClose","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fdde4c5e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Hwon\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__34Xbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__M09Gp\",\"Modal\":\"Modal_Modal__2jrt6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1SSlS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2yaC8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1i5TQ\",\"SearchForm\":\"Searchbar_SearchForm__2cgy3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2VDun\",\"SearchFormLabel\":\"Searchbar_SearchFormLabel__2B_qR\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3yvGN\"};","function fetchApi(inputText = \"cats\", page) {\n  return fetch(\n    `https://pixabay.com/api/?key=22345544-d7e856a59bd0b8410f42b3802&q=${inputText}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Не найдено изображения с названием ${inputText}`)\n    );\n  });\n}\n\nconst pixabayApi = { fetchApi };\n\nexport default pixabayApi;\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nexport default class Searchbar extends Component {\n  state = {\n    inputText: \"\",\n  };\n\n  //  обновление стейта на при нажатии на инпут\n  handleNameChange = (event) => {\n    this.setState({ inputText: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.inputText.trim() === \"\") {\n      // return alert('Введите  название в поиске');\n      return toast.info(\"Введите  название в поиске!\");\n    }\n\n    this.props.onSubmit(this.state.inputText);\n    this.setState({ inputText: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputText}\n            onChange={this.handleNameChange}\n            name=\"inputText\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClick,\n}) {\n  return (\n    <li\n      key={id}\n      className={s.ImageGalleryItem}\n      onClick={() => onClick(largeImageURL)}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItem_image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  ondeleteContact: PropTypes.func,\n  contacts: PropTypes.array,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGallery({ images, onClick }) {\n  // console.log(images)\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.func,\n  onClick: PropTypes.array,\n};\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function ComponentLoader() {\n  return (\n    <div>\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={10000}\n      />\n      Loading...\n    </div>\n  );\n}\n","import s from \"./Button.module.css\";\n\nexport default function Button({ handleLoadMore }) {\n  return (\n    <button className={s.Button} onClick={handleLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import s from \"./Modal.module.css\";\n\nexport default function Modal({ largeImageURL, tags, onClick }) {\n  return (\n    <div className={s.Overlay} onClick={onClick}>\n      <div className={s.Modal}>\n        <img src={largeImageURL} alt={tags} />\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"./App.css\";\nimport pixabayApi from \"./services/pixabayApi\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ComponentLoader from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    inputText: \"\",\n    loading: false,\n    eror: null,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageURL: \"\",\n  };\n\n  componentDidMount() {\n    // this.setState({loading: true})\n    pixabayApi\n      .fetchApi(this.state.inputText, this.state.page)\n      .then((data) => this.setState({ images: data.hits }))\n      .catch((error) => this.setState(error));\n    // .finally (() => this.setState({loading: false}))\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.inputText !== prevState.inputText) {\n      this.setState({ loading: true, images: [], page: 1 });\n      this.handleLoadMore();\n      //     // console.log('Change')\n      //     // console.log(prevState.inputText);\n      //   // console.log(this.state.inputText);\n      //   this.setState({loading: true, images: [], page: 1})\n      //   setTimeout(()=>{\n      //     pixabayApi.fetchApi(this.state.inputText, this.state.page).then(data => {\n      //       this.setState(prevState => ({images: data.hits}));\n      //       // console.log(this.state.images);\n      //       // console.log(this.state.page);\n      //   })\n      //   .catch(error => this.setState({error}))\n      // .finally (() => this.setState({loading: false}))\n      //   },500)\n    }\n  }\n\n  handleSubmit = (inputText) => {\n    // console.log(inputText);\n    this.setState({ inputText });\n  };\n\n  handleLoadMore = () => {\n    this.setState({ loading: true });\n    setTimeout(() => {\n      pixabayApi\n        .fetchApi(this.state.inputText, this.state.page + 1)\n        .then((data) => {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...data.hits],\n            page: prevState.page + 1,\n          }));\n          // console.log(this.state.images);\n          // console.log(this.prevState.images);\n          // console.log(this.state.images);\n          // console.log(this.state.page);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        })\n        .catch((error) => this.setState(error))\n        .finally(() => this.setState({ loading: false }));\n    }, 500);\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n      largeImageURL: largeImageURL,\n    }));\n  };\n\n  render() {\n    const { images, loading, error, showModal, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSubmit} />\n        {error && <h1>{error.massege}</h1>}\n        {loading && <ComponentLoader />}\n        {images.length === 0 && !loading && (\n          <h1>Картинок с таким названием не найденоoo!</h1>\n        )}\n        {/* {!this.state.inputText && <div>Введите имя пакемона</div>} */}\n        {images && <ImageGallery images={images} onClick={this.toggleModal} />}\n        {images.length > 0 && <Button handleLoadMore={this.handleLoadMore} />}\n        {showModal && (\n          <Modal onClick={this.toggleModal} largeImageURL={largeImageURL} />\n        )}\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </div>\n    );\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}